# よく使うコマンド
alias q="exit"
alias c="clear"
alias x="cat ~/.config/neofetch/image.txt"
alias g="git"
# 現在のブランチに対して add commit push する
alias bit='git add -A && git commit --allow-empty-message -m "" && git push origin $(git branch | sed -n -e "s/^\* \(.*\)/\1/p")'
alias hg="history | grep"
alias hh="cd ~"
alias ds='echo $PATH && echo $SHELL'
alias vv="env | grep"
alias www="ps aux"
alias bk="cp -t $HOME/data/$(date +%Y%m%d%H%M%S).bk"
alias opi="for i in {1..3}; do time zsh -ic exit;done"
alias sss="starship explain && sheldon lock --update"
alias tree="tree -NC"   # N: 文字化け対策 C: 色を付ける
alias weather="curl wttr.in"  # 天気予報を表示
alias notes="vim ~/notes.md"  # ノートを開く
alias docs="cd ~/Documents"  # ドキュメントフォルダに移動

alias cx="xsel -b -i"  # クリップボードにコピー
alias cv="xsel -b -o"  # クリップボードの内容をコマンドに渡す
alias cb="xsel -b"

# ファイル操作のエイリアス
alias mv="mv -i"   # 上書き確認を有効にする
alias cp="cp -i"   # 上書き確認を有効にする
alias rm="rm -i"   # 削除確認を有効にする
alias mkdir="mkdir -p"  # 親ディレクトリも作成

# ネットワーク関連のエイリアス
alias pi="ping -c 5 1.1.1.1"
alias ping="ping -c 5"  # 5回だけpingを送信
alias ports="netstat -tuln"  # 開いているポートを表示

alias python="python3"
alias pip="pip3"
alias npm="bun"
alias npx="bunx"
alias yarn="bun"
alias yarnx="bunx"

# http://localhost:3000 をブラウザで開く
if command -v xdg-open >/dev/null 2>&1; then
    alias lh="xdg-open http://localhost:3000"
    alias ggg="xdg-open https://youtube.com"
elif command -v open >/dev/null 2>&1; then
    alias lh="open -na 'Brave Browser' --args --new-window http://localhost:3000"
    alias ggg="open -na 'Brave Browser' --args --new-window https://youtube.com"
fi

# rosetta2のエイリアス
if command -v arch >/dev/null 2>&1; then
    alias amd="arch -x86_64 ${SHELL}"
    alias arm="arch -arm64 ${SHELL}"
fi

# ls lsd
if command -v lsd >/dev/null 2>&1; then
    alias ls='lsd --group-directories-first'
    alias l='ls -la'
    alias ll='ls -l'
    alias la='ls -a'
    alias lls='ls -la'
    alias lt='ls --tree'
fi

# bat
if command -v bat >/dev/null 2>&1; then
    alias cat="bat"
fi

# rg
if command -v rg >/dev/null 2>&1; then
    alias grep="rg"
fi

# fd
if command -v fd >/dev/null 2>&1; then
    alias find="fd"
fi

# zoxide
if command -v zoxide >/dev/null 2>&1; then
    alias cd="z"
fi

# tldr
if command -v tldr >/dev/null 2>&1; then
    alias h="tldr"
fi

# chezmoi
if command -v chezmoi >/dev/null 2>&1; then
    alias che="chezmoi"
    alias ca="chezmoi apply"
    alias cai="chezmoi init --apply git@github.com:budybye/dotfiles.git"
fi

# bitwarden
if command -v bw >/dev/null 2>&1; then
    alias bwbw="export BW_SESSION=$(bw unlock --raw)"
fi

# vscode vscodium cursor mac ubuntu arm64
if command -v cursor >/dev/null 2>&1; then
    alias co="cursor"
elif [ -f "${HOME}/Applications/cursor" ]; then
    alias co="${HOME}/Applications/cursor --no-sandbox"
elif command -v codium >/dev/null 2>&1; then
    alias co="codium"
elif command -v code >/dev/null 2>&1; then
    alias co="code"
fi

# docker
if command -v docker >/dev/null 2>&1; then
    alias d="docker"
    alias di="docker image"
    alias dr="docker run --rm"
    alias ds="docker stop $(docker ps -q)"
    alias dps="docker ps --format 'table {{.Names}}\t{{.Image}}\t{{.Ports}}\t{{.Status}}'"
    # イメージ名を引数にビルドし、プッシュする関数のエイリアス
    alias ddd='function _ddd() { IMAGE_NAME="$1"; docker build -t "$IMAGE_NAME" . && docker push "$IMAGE_NAME"; }; _ddd'

    alias dc="docker compose"
    alias dcb="docker compose build"
    alias dcu="docker compose up"
    alias dcd="docker compose down"
    ## 停止コンテナ、タグ無しイメージ、未使用ボリューム、未使用ネットワーク一括削除
    alias drm="docker system prune -af --volumes"

    alias dev="cd ~/.devcontainer && dc up"
fi

# brew
if command -v brew >/dev/null 2>&1; then
    alias bs="brew -S"
    alias bb="brew bundle --file ${HOME}/.config/Brewfile && brew bundle cleanup --force --file ${HOME}/.config/Brewfile && brew update && brew upgrade && brew autoremove && brew doctor"
fi

# multipass
if command -v multipass >/dev/null 2>&1; then
    alias mu="multipass"
    alias md="mu launch docker -c 4 -m 8G -d 40G  --timeout 3600 --mount ${HOME}/apps:/home/ubuntu/apps && mu info docker"
    alias ml="mu launch -n ubuntu -c 4 -m 8G -d 40G  --timeout 3600 --mount ${HOME}/dotfiles:/home/ubuntu/dotfiles --cloud-init ${HOME}/cloud-init/multipass.yaml && mu info ubuntu"
fi

# kube
if command -v kubectl >/dev/null 2>&1; then
    alias k="kubectl"
    # alias kx="kubectx"
    # alias kn="kubens"
fi

# apt
if command -v apt >/dev/null 2>&1; then
    alias agi="sudo apt install -y"
    alias agu="sudo apt update -y && sudo apt upgrade -y"
    alias aq="apt search"
fi

# speedtest
if command -v speedtest >/dev/null 2>&1; then
    alias st="speedtest"
fi
